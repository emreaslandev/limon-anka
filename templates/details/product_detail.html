{% extends 'partials/_base.html' %}
{% load static %}

{% block title %}

{% endblock %}
{% block bodyclass %}
  class="blog-details-page"
{% endblock %}

{% block content %}
  <!-- Page Title -->
  <div class="page-title dark-background">
    <div class="container d-lg-flex justify-content-between align-items-center">
      <h1 class="mb-2 mb-lg-0 text-uppercase">{{ product.title }}</h1>
      <nav class="breadcrumbs">
        <ol>
          <li>
            <a href="{% url 'index' %}">ANASAYFA</a>
          </li>
          <li>
            <a href="{% url 'product_list' %}">ÜRÜNLERİMİZ</a>
          </li>
          <li class="current text-uppercase">{{ product.title|truncatechars:15 }}</li>
        </ol>
      </nav>
    </div>
  </div>
  <!-- End Page Title -->

  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <!-- Blog Details Section -->
        <section id="resume" class="resume section">
          <!-- Section Title -->

          <!-- End Section Title -->

          <div class="container d-flex justify-content-center">
            <div class="col-lg-8" data-aos="fade-up" data-aos-delay="100">
              <h2 class="text-uppercase">{{ product.title }}</h2>

              <div class="resume-item pb-0">
                <img src="{{ product.cover_image.url }}" class="img-fluid border border-2 border-warning rounded-3" alt="" style="width: 100%; height: 350px; object-fit: cover;" />
              </div>
              <!-- Edn Resume Item -->

              <div class="resume-item mt-4">
                <p>{{ product.description|safe }}</p>
              </div>
              <!-- Edn Resume Item -->
              <div class="resume-item">
                <div id="mediaCarousel" class="carousel slide" data-bs-ride="carousel">
                  <div class="carousel-inner">
                    {% for media in product.media.all %}
                      <div class="carousel-item {% if forloop.first %}active{% endif %}">
                        {% if media.media_type == 'vid' %}
                          <video class="img-fluid border border-2 border-warning rounded-3" style="width: 100%; height: 350px; object-fit: cover;" controls>
                            <source src="{{ media.file.url }}" type="video/mp4" />Your browser does not support the video tag.
                          </video>
                        {% elif media.media_type == 'img' %}
                          <img src="{{ media.file.url }}" class="img-fluid border border-2 border-warning rounded-3" alt="" style="width: 100%; height: 350px; object-fit: cover;" />
                        {% endif %}
                      </div>
                    {% endfor %}
                  </div>
                  <button class="carousel-control-prev" type="button" data-bs-target="#mediaCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                  </button>
                  <button class="carousel-control-next" type="button" data-bs-target="#mediaCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
{% endblock %}
